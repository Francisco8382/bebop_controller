\hypertarget{base__controller_8cpp_source}{}\doxysection{base\+\_\+controller.\+cpp}
\label{base__controller_8cpp_source}\index{C:/Users/franc/Desktop/Ubuntu/bebop\_controller/src/bebop\_controller/src/library/base\_controller.cpp@{C:/Users/franc/Desktop/Ubuntu/bebop\_controller/src/bebop\_controller/src/library/base\_controller.cpp}}
\mbox{\hyperlink{base__controller_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{base__controller_8h}{bebop\_controller/base\_controller.h}}"{}}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00006}00006 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacebebop__controller}{bebop\_controller}} \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00008}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a08398bb484d586eb08e25002dc4582f1}{00008}}     \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a08398bb484d586eb08e25002dc4582f1}{BaseController::BaseController}}():}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00009}00009     waypointHasBeenPublished\_(false), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00010}00010     takeoff(false),}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00011}00011     controller\_active\_(false),}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00012}00012     disable\_commands(true),}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00013}00013     stop(false) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00014}00014         ROS\_INFO\_ONCE(\textcolor{stringliteral}{"{}Started position controller"{}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00015}00015         ros::NodeHandle nh(\textcolor{stringliteral}{"{}\string~"{}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00017}00017         std::string bebop\_command\_trajectory, bebop\_pose, bebop\_cmd\_vel, bebop\_takeoff, bebop\_land, csv\_end;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00018}00018         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Topics/Command\_Trajectory"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00019}00019                         std::string(\mbox{\hyperlink{base__controller_8h_abf16754442af701098a13352fb900ff7}{BEBOP\_COMMAND\_TRAJECTORY}}), \&bebop\_command\_trajectory);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00020}00020         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Topics/Pose"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00021}00021                         std::string(\mbox{\hyperlink{base__controller_8h_a75db66f2798658cbee7c8ee2940d3c10}{BEBOP\_POSE}}), \&bebop\_pose);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00022}00022         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Topics/CMD\_Vel"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00023}00023                         std::string(\mbox{\hyperlink{base__controller_8h_a135df691802accb462f6130cda83fb73}{BEBOP\_CMD\_VEL}}), \&bebop\_cmd\_vel);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00024}00024         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Topics/TakeOff"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00025}00025                         std::string(\mbox{\hyperlink{base__controller_8h_affaab3b555a4be3da68e2412867e7620}{BEBOP\_TAKEOFF}}), \&bebop\_takeoff);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00026}00026         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Topics/Land"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00027}00027                         std::string(\mbox{\hyperlink{base__controller_8h_ad9228895cfd32e083f3b587027ecefba}{BEBOP\_LAND}}), \&bebop\_land);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00028}00028         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Topics/CSV\_End"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00029}00029                         std::string(\mbox{\hyperlink{base__controller_8h_ab2f18b6531a527175ed3572d6aa1c4a9}{CSV\_END}}), \&csv\_end);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00030}00030         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Disable\_Commands"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00031}00031                         \mbox{\hyperlink{base__controller_8h_a4ac502d59fdf0f82963f52fa5de69efd}{DISABLE\_COMMANDS}}, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_ac293c427496bd2fdfba6ef91d5115374}{disable\_commands}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00032}00032         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Safe\_Zone/X"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00033}00033                         \mbox{\hyperlink{base__controller_8h_aa50c7e197f6de5e30ffa7474f6c8454c}{SAFE\_ZONE\_X}}, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4ba582af426a2f7ce12bed84416b6c8e}{safe\_zone}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00034}00034         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Safe\_Zone/Y"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00035}00035                         \mbox{\hyperlink{base__controller_8h_a404b9f8b5437427c76e164f7c0291ba4}{SAFE\_ZONE\_Y}}, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4ba582af426a2f7ce12bed84416b6c8e}{safe\_zone}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00036}00036         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Safe\_Zone/Z"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00037}00037                         \mbox{\hyperlink{base__controller_8h_a486520c93427146219b4fe9eba14e25b}{SAFE\_ZONE\_Z}}, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4ba582af426a2f7ce12bed84416b6c8e}{safe\_zone}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00038}00038         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Max\_Speed/X"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00039}00039                         \mbox{\hyperlink{base__controller_8h_a2630f36a3d7a1c2e047df0fa9be9bd19}{LIMIT\_X}}, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a870f62f9731f89bfe9fd7107615b672e}{max\_speed}}.\mbox{\hyperlink{structbebop__controller_1_1_vector4_ae685746d7246756a70902737ac1d2fa7}{x}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00040}00040         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Max\_Speed/Y"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00041}00041                         \mbox{\hyperlink{base__controller_8h_a6141844a0a5e4dc2ea15f736486182e3}{LIMIT\_Y}}, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a870f62f9731f89bfe9fd7107615b672e}{max\_speed}}.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a6ab61b14159b24c1f362f21d6826a83d}{y}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00042}00042         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Max\_Speed/Z"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00043}00043                         \mbox{\hyperlink{base__controller_8h_a0c5e10ca7cf819480b77d04693cc95d2}{LIMIT\_Z}}, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a870f62f9731f89bfe9fd7107615b672e}{max\_speed}}.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a89b6834e6fceddeeea981a74692279fa}{z}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00044}00044         \mbox{\hyperlink{namespacebebop__controller_a32600fdf0c17428368f53f564a490449}{GetRosParameter}}(nh, std::string(\textcolor{stringliteral}{"{}Max\_Speed/Yaw"{}}), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00045}00045                         \mbox{\hyperlink{base__controller_8h_a436f4c9470f1a516580426bc3cebadf4}{LIMIT\_YAW}}, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a870f62f9731f89bfe9fd7107615b672e}{max\_speed}}.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a86c14a81c8b8e58d8f04d90e9221b4ec}{yaw}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00047}00047         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a072e7466472ab8bd2c818266e007c922}{cmd\_multi\_dof\_joint\_trajectory\_sub\_}} = nh.subscribe(bebop\_command\_trajectory, 1,  }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00048}00048                                                         \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_adafa8d18bad2d4fdf5997956dbe6d941}{BaseController::MultiDOFJointTrajectory\_CB}}, \textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00049}00049         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a830f9856b4e71ecde22c4c66865f85b3}{odom\_sub\_}} = nh.subscribe(bebop\_pose, 30, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_af65b7cf12084d7da6b0783f12acb6d7f}{BaseController::Odometry\_CB}}, \textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00050}00050         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_ab7a9d66bc44bfb561349c1e484f0211f}{end\_sub\_}} = nh.subscribe(csv\_end, 1, \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4adb5c662cbc4574dbff95c29c58b20b}{BaseController::Stop\_CB}}, \textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00051}00051         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a2564e30cd24d635920ed62a5af6162cb}{motor\_velocity\_reference\_pub\_}} = nh.advertise<geometry\_msgs::Twist>(bebop\_cmd\_vel, 1);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00052}00052         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a5ba4d29316e4f74a201568b8012a5c08}{takeoff\_pub\_}} = nh.advertise<std\_msgs::Empty>(bebop\_takeoff, 1);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00053}00053         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a701e45670eb5190bcba0d657e37dae8e}{land\_pub\_}} = nh.advertise<std\_msgs::Empty>(bebop\_land, 1);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00054}00054         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aafd88e2a903a86bc85c76958f2dbb2e0}{timeOut}} = nh.createTimer(ros::Duration(1.0), \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a9a9c33999b415bc043562eb08e9e6b9a}{BaseController::TimeOut\_CB}}, \textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00056}00056         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = 0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00057}00057         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = 0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00058}00058         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} = 0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00059}00059         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = 0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00060}00060         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = 0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00061}00061         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} = 0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00062}00062     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00064}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_af266b16eab393a935d8adade1015daf4}{00064}}     \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af266b16eab393a935d8adade1015daf4}{BaseController::\string~BaseController}}() \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00065}00065         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_abde086f3ab7922a86884bbadbf751560}{Stop}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00066}00066     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00068}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_adafa8d18bad2d4fdf5997956dbe6d941}{00068}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_adafa8d18bad2d4fdf5997956dbe6d941}{BaseController::MultiDOFJointTrajectory\_CB}}(\textcolor{keyword}{const} trajectory\_msgs::MultiDOFJointTrajectoryConstPtr\& msg) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00069}00069         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} n\_commands = msg-\/>points.size();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00070}00070         \textcolor{keywordflow}{if} (n\_commands < 1)\{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00071}00071             ROS\_WARN\_STREAM(\textcolor{stringliteral}{"{}Got MultiDOFJointTrajectory message, but message has no points."{}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00072}00072             \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00073}00073         \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00074}00074         mav\_msgs::eigenTrajectoryPointFromMsg(msg-\/>points.front(), \&\mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00075}00075         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_abb36f463bd7f19b4f6a18e9860d6ad6a}{waypointHasBeenPublished\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00076}00076         ROS\_INFO\_ONCE(\textcolor{stringliteral}{"{}Got first MultiDOFJointTrajectory message."{}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00077}00077     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00079}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4adb5c662cbc4574dbff95c29c58b20b}{00079}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4adb5c662cbc4574dbff95c29c58b20b}{BaseController::Stop\_CB}}(\textcolor{keyword}{const} std\_msgs::Empty::ConstPtr\& empty\_msg) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00080}00080         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_abde086f3ab7922a86884bbadbf751560}{Stop}}(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00081}00081     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00083}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_af65b7cf12084d7da6b0783f12acb6d7f}{00083}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af65b7cf12084d7da6b0783f12acb6d7f}{BaseController::Odometry\_CB}}(\textcolor{keyword}{const} geometry\_msgs::PoseStamped\& pose\_msg) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00084}00084         ROS\_INFO\_ONCE(\textcolor{stringliteral}{"{}Controller got first pose message."{}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00085}00085         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aafd88e2a903a86bc85c76958f2dbb2e0}{timeOut}}.stop();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00086}00086         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aafd88e2a903a86bc85c76958f2dbb2e0}{timeOut}}.start();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00087}00087         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_abb36f463bd7f19b4f6a18e9860d6ad6a}{waypointHasBeenPublished\_}}) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00088}00088             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a39b95de1685916fe436e5d6cbeebfcb7}{takeoff}}) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00089}00089                 \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aab91a7f7c337a206e32de64c382f13ad}{TakeOff}}();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00090}00090             \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00091}00091             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4556e6065d4089dfa23ccff27d0d1143}{controller\_active\_}}) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00092}00092                 \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a138d469340cc82b1a89a4b78eb0abd64}{lastTime}} = ros::Time::now();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00093}00093             \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00094}00094             \textcolor{keyword}{const} Eigen::Vector3d position = Eigen::Vector3d(pose\_msg.pose.position.x, }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00095}00095                                                             pose\_msg.pose.position.y, }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00096}00096                                                             pose\_msg.pose.position.z);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00097}00097             \textcolor{keyword}{const} Eigen::Quaterniond orientation = Eigen::Quaterniond(pose\_msg.pose.orientation.w,}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00098}00098                                                                     pose\_msg.pose.orientation.x,}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00099}00099                                                                     pose\_msg.pose.orientation.y,}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00100}00100                                                                     pose\_msg.pose.orientation.z);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00101}00101             \textcolor{keyword}{const} Eigen::Vector3d zeros = Eigen::Vector3d(0,0,0);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00102}00102             mav\_msgs::EigenOdometry odometry = mav\_msgs::EigenOdometry(position,orientation,zeros,zeros);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00103}00103             ros::Time now = ros::Time::now();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00104}00104             \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}} = now.toSec() -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a138d469340cc82b1a89a4b78eb0abd64}{lastTime}}.toSec();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00105}00105             \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a138d469340cc82b1a89a4b78eb0abd64}{lastTime}} = now;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00106}00106             \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a8dbf1275989b3d7b25b848fde6cb353c}{SetOdometry}}(odometry);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00107}00107             \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4763d95548a29ed1d9b1452394c19388}{EstimateVelocity}}();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00108}00108             \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a957a1b211b31e7cc20b2c05065c96c2c}{EstimateAcceleration}}();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00109}00109             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a54e44aa70c8a2222e2c144f11bf67182}{CheckSafeZone}}()) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00110}00110                 \mbox{\hyperlink{classbebop__controller_1_1_base_controller_abde086f3ab7922a86884bbadbf751560}{Stop}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00111}00111             \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00112}00112             geometry\_msgs::Twist ref\_command\_signals;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00113}00113             \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a5134eec0bceb294ad092cc510fbf1278}{CalculateCommandVelocities}}(ref\_command\_signals);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00114}00114             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classbebop__controller_1_1_base_controller_ac293c427496bd2fdfba6ef91d5115374}{disable\_commands}} \&\& !\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a8df8391dd4ef7ccd9e47f4bfafbc4e0c}{stop}}) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00115}00115                 \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a2564e30cd24d635920ed62a5af6162cb}{motor\_velocity\_reference\_pub\_}}.publish(ref\_command\_signals);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00116}00116             \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00117}00117         \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00118}00118     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00119}00119 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00120}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a9a9c33999b415bc043562eb08e9e6b9a}{00120}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a9a9c33999b415bc043562eb08e9e6b9a}{BaseController::TimeOut\_CB}}(\textcolor{keyword}{const} ros::TimerEvent\& event) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00121}00121         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a39b95de1685916fe436e5d6cbeebfcb7}{takeoff}})\{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00122}00122             ROS\_INFO(\textcolor{stringliteral}{"{}Pose messages have not been received for one second. Landing the drone."{}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00123}00123             \mbox{\hyperlink{classbebop__controller_1_1_base_controller_abde086f3ab7922a86884bbadbf751560}{Stop}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00124}00124         \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00125}00125     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00126}00126 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00127}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aab91a7f7c337a206e32de64c382f13ad}{00127}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aab91a7f7c337a206e32de64c382f13ad}{BaseController::TakeOff}}() \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00128}00128         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a39b95de1685916fe436e5d6cbeebfcb7}{takeoff}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00129}00129         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_ac293c427496bd2fdfba6ef91d5115374}{disable\_commands}} || \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a8df8391dd4ef7ccd9e47f4bfafbc4e0c}{stop}}) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00130}00130             \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00131}00131         \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00132}00132         std\_msgs::Empty empty\_msg;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00133}00133         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a5ba4d29316e4f74a201568b8012a5c08}{takeoff\_pub\_}}.publish(empty\_msg);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00134}00134     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00135}00135 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00136}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a113b06cd26f8af280c668095f22e46d3}{00136}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a113b06cd26f8af280c668095f22e46d3}{BaseController::Land}}() \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00137}00137         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a39b95de1685916fe436e5d6cbeebfcb7}{takeoff}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00138}00138         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4556e6065d4089dfa23ccff27d0d1143}{controller\_active\_}}= \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00139}00139         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_ac293c427496bd2fdfba6ef91d5115374}{disable\_commands}}) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00140}00140             \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00141}00141         \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00142}00142         std\_msgs::Empty empty\_msg;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00143}00143         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a701e45670eb5190bcba0d657e37dae8e}{land\_pub\_}}.publish(empty\_msg);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00144}00144     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00145}00145 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00146}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a8dbf1275989b3d7b25b848fde6cb353c}{00146}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a8dbf1275989b3d7b25b848fde6cb353c}{BaseController::SetOdometry}}(mav\_msgs::EigenOdometry\& odometry) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00147}00147         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a332dead6afd4a7517db514d2d638b496}{odometry\_}} = odometry; }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00148}00148         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4556e6065d4089dfa23ccff27d0d1143}{controller\_active\_}}= \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00149}00149         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a332dead6afd4a7517db514d2d638b496}{odometry\_}}.position\_W[2];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00150}00150         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a332dead6afd4a7517db514d2d638b496}{odometry\_}}.position\_W[0];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00151}00151         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a332dead6afd4a7517db514d2d638b496}{odometry\_}}.position\_W[1];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00152}00152         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a89d1e78cc4898e5a07c6b9310413d894}{Quaternion2Euler}}(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}}, \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}}, \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00153}00153     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00155}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aac87802accc263d816e53eee4b19c152}{00155}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aac87802accc263d816e53eee4b19c152}{BaseController::GetErrors}}(\mbox{\hyperlink{structbebop__controller_1_1_vector4}{Vector4}}\& e) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00156}00156         e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_ae685746d7246756a70902737ac1d2fa7}{x}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}}.position\_W[0];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00157}00157         e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a6ab61b14159b24c1f362f21d6826a83d}{y}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}}.position\_W[1];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00158}00158         e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a89b6834e6fceddeeea981a74692279fa}{z}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}}.position\_W[2];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00159}00159         e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a86c14a81c8b8e58d8f04d90e9221b4ec}{yaw}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} -\/ \mbox{\hyperlink{namespacebebop__controller_ae0a297ca0ff90948ea8191a733107ddb}{yawFromQuaternion}}(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}}.orientation\_W\_B);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00160}00160         \textcolor{keywordflow}{while} (std::abs(e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a86c14a81c8b8e58d8f04d90e9221b4ec}{yaw}}) > M\_PI) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00161}00161             \textcolor{keywordflow}{if} (e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a86c14a81c8b8e58d8f04d90e9221b4ec}{yaw}} > 0) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00162}00162                 e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a86c14a81c8b8e58d8f04d90e9221b4ec}{yaw}} -\/= 2*M\_PI;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00163}00163             \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00164}00164             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00165}00165                 e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a86c14a81c8b8e58d8f04d90e9221b4ec}{yaw}} += 2*M\_PI;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00166}00166             \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00167}00167         \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00168}00168     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00169}00169 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00170}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aeab18256a7348e206911f9d7f1679e6a}{00170}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aeab18256a7348e206911f9d7f1679e6a}{BaseController::GetVelocityErrors}}(\mbox{\hyperlink{structbebop__controller_1_1_vector4}{Vector4}}\& dot\_e) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00171}00171         dot\_e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_ae685746d7246756a70902737ac1d2fa7}{x}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}}.velocity\_W[0];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00172}00172         dot\_e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a6ab61b14159b24c1f362f21d6826a83d}{y}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}}.velocity\_W[1];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00173}00173         dot\_e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a89b6834e6fceddeeea981a74692279fa}{z}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}}.velocity\_W[2];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00174}00174         dot\_e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a86c14a81c8b8e58d8f04d90e9221b4ec}{yaw}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_af6088eb708f8d4155e5512a0fd3a3ffc}{command\_trajectory\_}}.angular\_velocity\_W[2];}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00175}00175     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00176}00176 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00177}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a89d1e78cc4898e5a07c6b9310413d894}{00177}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a89d1e78cc4898e5a07c6b9310413d894}{BaseController::Quaternion2Euler}}(\textcolor{keywordtype}{double}\& roll, \textcolor{keywordtype}{double}\& pitch, \textcolor{keywordtype}{double}\& yaw)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00178}00178         tf::Quaternion q(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a332dead6afd4a7517db514d2d638b496}{odometry\_}}.orientation\_W\_B.z(), \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a332dead6afd4a7517db514d2d638b496}{odometry\_}}.orientation\_W\_B.x(), }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00179}00179                         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a332dead6afd4a7517db514d2d638b496}{odometry\_}}.orientation\_W\_B.y(), \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a332dead6afd4a7517db514d2d638b496}{odometry\_}}.orientation\_W\_B.w());}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00180}00180         tf::Matrix3x3 m(q);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00181}00181         m.getRPY(roll, pitch, yaw);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00182}00182     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00184}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a5134eec0bceb294ad092cc510fbf1278}{00184}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a5134eec0bceb294ad092cc510fbf1278}{BaseController::CalculateCommandVelocities}}(geometry\_msgs::Twist\& ref\_command\_signals) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00185}00185         ref\_command\_signals.linear.x = 0.0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00186}00186         ref\_command\_signals.linear.y = 0.0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00187}00187         ref\_command\_signals.linear.z = 0.0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00188}00188         ref\_command\_signals.angular.z = 0.0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00189}00189     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00190}00190 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00191}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4763d95548a29ed1d9b1452394c19388}{00191}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4763d95548a29ed1d9b1452394c19388}{BaseController::EstimateVelocity}}() \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00192}00192         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00193}00193         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00194}00194         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00195}00195         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00196}00196         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00197}00197         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00198}00198         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00199}00199         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_af32acde2ca31549c11ee184223b65da3}{orientation}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00200}00200     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00201}00201 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00202}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a957a1b211b31e7cc20b2c05065c96c2c}{00202}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a957a1b211b31e7cc20b2c05065c96c2c}{BaseController::EstimateAcceleration}}() \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00203}00203         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a16e27e67e7a8cb199119bda08141019b}{acceleration}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00204}00204         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a16e27e67e7a8cb199119bda08141019b}{acceleration}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00205}00205         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a16e27e67e7a8cb199119bda08141019b}{acceleration}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00206}00206         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_add179323472ba75848d5a4332633f62f}{angular\_acceleration}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00207}00207         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_add179323472ba75848d5a4332633f62f}{angular\_acceleration}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00208}00208         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_add179323472ba75848d5a4332633f62f}{angular\_acceleration}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} = (\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}} -\/ \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}})/\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a6395a83094bd3d79d914131dbc45bf1c}{diff}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00209}00209         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00210}00210         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a11047aeb12d5c02a3fddfeb0ffbb37b8}{last\_state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}} = \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_aff71bd73911ee397d0f657a766ff7a90}{angular\_velocity}};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00211}00211     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00212}00212 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00213}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_abde086f3ab7922a86884bbadbf751560}{00213}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_abde086f3ab7922a86884bbadbf751560}{BaseController::Stop}}(\textcolor{keywordtype}{bool} failsafe) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00214}00214         \textcolor{keywordflow}{if} (failsafe) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00215}00215             ROS\_INFO\_ONCE(\textcolor{stringliteral}{"{}Failsafe mode"{}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00216}00216         \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00217}00217         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a8df8391dd4ef7ccd9e47f4bfafbc4e0c}{stop}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00218}00218         geometry\_msgs::Twist ref\_command\_signals;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00219}00219         ref\_command\_signals.linear.x = 0.0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00220}00220         ref\_command\_signals.linear.y = 0.0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00221}00221         ref\_command\_signals.linear.z = 0.0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00222}00222         ref\_command\_signals.angular.z = 0.0;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00223}00223         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a2564e30cd24d635920ed62a5af6162cb}{motor\_velocity\_reference\_pub\_}}.publish(ref\_command\_signals);}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00224}00224         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a113b06cd26f8af280c668095f22e46d3}{Land}}();}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00225}00225     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00226}00226 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00227}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a54e44aa70c8a2222e2c144f11bf67182}{00227}}     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a54e44aa70c8a2222e2c144f11bf67182}{BaseController::CheckSafeZone}}() \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00228}00228         \textcolor{keywordflow}{return} (std::abs(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}}) < \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4ba582af426a2f7ce12bed84416b6c8e}{safe\_zone}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}})}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00229}00229             \&\& (std::abs(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}}) < \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4ba582af426a2f7ce12bed84416b6c8e}{safe\_zone}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}})}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00230}00230             \&\& (std::abs(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a9583dbfd2f7fec65a8ce4c734004cffb}{position}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}}) < \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a4ba582af426a2f7ce12bed84416b6c8e}{safe\_zone}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a27a5792df863e68a43e1bb8b697e74b4}{z}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00231}00231     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00232}00232 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00233}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aad4281d8556b2b46f3bbdd2e9e27de09}{00233}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_aad4281d8556b2b46f3bbdd2e9e27de09}{BaseController::CalculateLeashLength}}(\mbox{\hyperlink{structbebop__controller_1_1_vector4}{Vector4}}\& e, \mbox{\hyperlink{structbebop__controller_1_1_vector4}{Vector4}}\& P) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00234}00234         \mbox{\hyperlink{structbebop__controller_1_1_vector3}{Vector3}} Ppos, vel, accel;}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00235}00235         Ppos.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = P.\mbox{\hyperlink{structbebop__controller_1_1_vector4_ae685746d7246756a70902737ac1d2fa7}{x}}*sqrt(std::abs(e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_ae685746d7246756a70902737ac1d2fa7}{x}}));}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00236}00236         Ppos.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = P.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a6ab61b14159b24c1f362f21d6826a83d}{y}}*sqrt(std::abs(e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a6ab61b14159b24c1f362f21d6826a83d}{y}}));}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00237}00237         vel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = std::abs(\mbox{\hyperlink{namespacebebop__controller_a23441b7672b09d003134d29016c2d08c}{max}}(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}},\mbox{\hyperlink{base__controller_8h_a9665b87d9ddc1f29dfc300c92d022cc6}{MIN\_VEL}}));}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00238}00238         vel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = std::abs(\mbox{\hyperlink{namespacebebop__controller_a23441b7672b09d003134d29016c2d08c}{max}}(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a7ec2d35d6deb2f0c05f1cf29a16433c5}{velocity}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}},\mbox{\hyperlink{base__controller_8h_a9665b87d9ddc1f29dfc300c92d022cc6}{MIN\_VEL}}));}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00239}00239         accel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = std::abs(\mbox{\hyperlink{namespacebebop__controller_a23441b7672b09d003134d29016c2d08c}{max}}(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a16e27e67e7a8cb199119bda08141019b}{acceleration}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}},\mbox{\hyperlink{base__controller_8h_af221ed84ab697f7f0c4324f25a54f0f0}{MIN\_ACCEL}}));}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00240}00240         accel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = std::abs(\mbox{\hyperlink{namespacebebop__controller_a23441b7672b09d003134d29016c2d08c}{max}}(\mbox{\hyperlink{classbebop__controller_1_1_base_controller_aca60bbaed0b611dd3630ed992eb3c7f5}{state}}.\mbox{\hyperlink{structbebop__controller_1_1_state_a16e27e67e7a8cb199119bda08141019b}{acceleration}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}},\mbox{\hyperlink{base__controller_8h_af221ed84ab697f7f0c4324f25a54f0f0}{MIN\_ACCEL}}));}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00241}00241         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a552b10a38a8bd7f7a66ad984063a9b73}{leash\_length}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}} = accel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}}/(2*pow(Ppos.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}},2)) + pow(vel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}},2)/(2*accel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00242}00242         \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a552b10a38a8bd7f7a66ad984063a9b73}{leash\_length}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}} = accel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}}/(2*pow(Ppos.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}},2)) + pow(vel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}},2)/(2*accel.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00243}00243     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00244}00244 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00245}\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a8188301416dd6bf5696307536a4595c2}{00245}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classbebop__controller_1_1_base_controller_a8188301416dd6bf5696307536a4595c2}{BaseController::LimitPositionErrors}}(\mbox{\hyperlink{structbebop__controller_1_1_vector4}{Vector4}}\& e) \{}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00246}00246         e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_ae685746d7246756a70902737ac1d2fa7}{x}} = \mbox{\hyperlink{namespacebebop__controller_adbb5ce519c9ccec2a03354540b0d30fe}{clamp}}(e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_ae685746d7246756a70902737ac1d2fa7}{x}},\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a552b10a38a8bd7f7a66ad984063a9b73}{leash\_length}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a823275810a8257e764aa470b48e824c2}{x}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00247}00247         e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a6ab61b14159b24c1f362f21d6826a83d}{y}} = \mbox{\hyperlink{namespacebebop__controller_adbb5ce519c9ccec2a03354540b0d30fe}{clamp}}(e.\mbox{\hyperlink{structbebop__controller_1_1_vector4_a6ab61b14159b24c1f362f21d6826a83d}{y}},\mbox{\hyperlink{classbebop__controller_1_1_base_controller_a552b10a38a8bd7f7a66ad984063a9b73}{leash\_length}}.\mbox{\hyperlink{structbebop__controller_1_1_vector3_a7202b632dc7b35e6619019b74ec021c6}{y}});}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00248}00248     \}}
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00249}00249 }
\DoxyCodeLine{\Hypertarget{base__controller_8cpp_source_l00250}00250 \}}

\end{DoxyCode}
